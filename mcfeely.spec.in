# $Id: mcfeely.spec.in,v 1.4 1999/07/28 16:35:29 mliggett Exp $
Summary: asynchronous task execution on multiple hosts
Name: mcfeely
Version: @version@
Release: 1
Copyright: GPL
Group: Daemons
Source: mcfeely-@version@.tar.gz
BuildRoot: /tmp/mcfeely-build
Packager: Matt Liggett <mml@pobox.com>
Vendor: Kiva Networking
%description
@BLURB@

%package common
Summary: files common to mcfeely-client and mcfeely-server
Group: Daemons

%description common
Files common to mcfeely-client and mcfeely-server.

%package server
Summary: asynchronous task execution on multiple hosts -- server
Group: Daemons
Requires: mcfeely-common

%description server
@BLURB@

This is the server package.

%package client
Summary: asynchronous task execution on multiple hosts -- client
Group: Daemons
Requires: mcfeely-common

%description client
@BLURB@

This is the client package.

%prep
%setup

%build
make

%install
make ROOT="$RPM_BUILD_ROOT" rpminstall

%files common
%attr(- @ROOTUSER@ @MCGROUP@) %dir @TOPDIR@
%attr(- @ROOTUSER@ @MCGROUP@) %dir @TOPDIR@/bin
%attr(- @ROOTUSER@ @MCGROUP@) %dir @TOPDIR@/control
%attr(- @ROOTUSER@ @MCGROUP@)      @TOPDIR@/lib

%files server
%attr(- @MCUSER@   @QGROUP@ )      @TOPDIR@/bin/mcfeely-queue
%attr(- @ROOTUSER@ @MCGROUP@)      @TOPDIR@/bin/mcfeely-start
%attr(- @ROOTUSER@ @MCGROUP@)      @TOPDIR@/bin/mcfeely-qread
%attr(- @ROOTUSER@ @MCGROUP@)      @TOPDIR@/bin/mcfeely-manage
%attr(- @ROOTUSER@ @MCGROUP@)      @TOPDIR@/bin/mcfeely-spawn
%attr(- @ROOTUSER@ @MCGROUP@)      @TOPDIR@/bin/mcfeely-ttpd
%attr(- @MCUSER@   @MCGROUP@) %dir @TOPDIR@/queue
%attr(- @MCUSER@   @MCGROUP@) %dir @TOPDIR@/queue/pid
%attr(- @MCUSER@   @MCGROUP@) %dir @TOPDIR@/queue/task
%attr(- @MCUSER@   @MCGROUP@) %dir @TOPDIR@/queue/info
%attr(- @MCUSER@   @MCGROUP@) %dir @TOPDIR@/queue/desc
%attr(- @MCUSER@   @MCGROUP@) %dir @TOPDIR@/queue/newj
%attr(- @MCUSER@   @MCGROUP@) %dir @TOPDIR@/queue/job
%attr(- @MCUSER@   @MCGROUP@) %dir @TOPDIR@/queue/fnot
%attr(- @MCUSER@   @MCGROUP@) %dir @TOPDIR@/queue/snot
%attr(- @MCUSER@   @MCGROUP@) %dir @TOPDIR@/queue/rep
%attr(- @ROOTUSER@ @QGROUP@)       @PERLDIR@/McFeely.pm
%attr(- @ROOTUSER@ @QGROUP@)       @PERLDIR@/McFeely

%files client
%attr(- @ROOTUSER@ @MCGROUP@)      @TOPDIR@/bin/mcfeely-ttpc
%attr(- @ROOTUSER@ @MCGROUP@) %dir @TOPDIR@/comm
